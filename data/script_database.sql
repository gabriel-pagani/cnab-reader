DROP TABLE IF EXISTS ZCNAB;

CREATE TABLE ZCNAB (
    ID INT IDENTITY(1,1) PRIMARY KEY,        
    COLCNPJ VARCHAR(18) NOT NULL,
    BANCO VARCHAR(3) NOT NULL,
    CONVENIO VARCHAR(20) NOT NULL,
    AGENCIA VARCHAR(5) NOT NULL,
    CONTA VARCHAR(12) NOT NULL,
    DATALAN DATE NOT NULL,
    VALORLAN DECIMAL(16,2) NOT NULL,
    TIPOLAN CHAR(1) NOT NULL CHECK (TIPOLAN IN ('C', 'D')),
    DESCLAN VARCHAR(25) NOT NULL,
    TIPOREGIS CHAR(1) NOT NULL CHECK (TIPOREGIS IN ('1', '3', '5')),
    DATA_IMPORTACAO DATETIME DEFAULT GETDATE()
);

CREATE INDEX IDX_CNPJ ON ZCNAB(COLCNPJ);
CREATE INDEX IDX_DATALAN ON ZCNAB(DATALAN);
CREATE INDEX IDX_BANCO ON ZCNAB(BANCO);